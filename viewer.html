<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=0">
<style>
body {
	margin: 0;
}
.scroller {
	overflow: auto;
	text-align: center;
	white-space: nowrap;
	width: 100%;
	height: 100%;
}
.ghost {
	display: inline-block;
	vertical-align: middle;
	width: 0;
	height: 100%;
}
.wrapper {
	display: inline-block;
	margin: auto;
	vertical-align: middle;
}
header {
	background: linear-gradient(to left, #0cf ,#36c);
	color: #fff;
	font-weight: bold;
	line-height: 2;
	opacity: 0.8;
	text-align: center;
	position: fixed;
	left: 0;
	top: 0;
	width: 100%;
}
</style>
</head>
<body>
<div class='scroller'><div class='ghost'></div><div class='wrapper'><img src='puppy.jpg'></div></div>
<header>Medical Image Viewer</header>
<script>
var m = document.querySelector('.wrapper'), p = m.parentNode;
var d, x, y, z;
function distance(x0, y0, x1, y1) {
	var x = x1 - x0, y = y1 - y0;
	return Math.sqrt(x * x + y * y);
}
function contain(w0, h0, w1, h1) {
	return Math.min(w1 / w0, h1 / h0);
}
function update(zoom) {
	m.style.zoom = z * zoom + '%';
}
document.body.addEventListener('touchstart', function(e) {
	var a = e.targetTouches;
	if (a.length == 2) {
		e.preventDefault();
		d = distance(a[0].pageX, a[0].pageY, a[1].pageX, a[1].pageY);
		z = parseFloat(m.style.zoom) || 100;
	}
});
document.body.addEventListener('touchmove', function(e) {
	var a = e.targetTouches;
	if (a.length == 2) {
		e.preventDefault();
		update(distance(a[0].pageX, a[0].pageY, a[1].pageX, a[1].pageY) / d);
	}
});
document.body.addEventListener('mousewheel', function(ev) {
	ev.preventDefault();
	z = parseFloat(m.style.zoom) || 100;
	update(ev.wheelDelta > 0 ? 1.25 : 0.8);
});
function pan(el) {
	var x, y;
	el.addEventListener('mousedown', function(ev) {
		if (ev.buttons == 1) {
			ev.preventDefault();
			x = ev.pageX + el.scrollLeft;
			y = ev.pageY + el.scrollTop;
		}
	});
	el.addEventListener('mousemove', function(ev) {
		if (ev.buttons == 1) {
			ev.preventDefault();
			el.scrollLeft = x - ev.pageX;
			el.scrollTop = y - ev.pageY;
		}
	});
}
function pinch() {
}
pan(p);
</script>
</body>
</html>
